<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin</title>
<style>
body{background:#f4f6f9;font-family:Arial;padding:40px;}
.item{
background:white;
padding:15px;
margin-bottom:10px;
border-radius:8px;
box-shadow:0 5px 15px rgba(0,0,0,0.1);
}
button{
background:red;
color:white;
border:none;
padding:6px 12px;
border-radius:6px;
cursor:pointer;
}
</style>
</head>
<body>

<h2>Admin Panel</h2>
<div id="list"></div>

<script type="module">
import { createClient } from "https://esm.sh/@supabase/supabase-js@2"

const supabaseUrl="https://gkrfcoyleewxrxbfdunq.supabase.co"
const supabaseKey="sb_publishable_E1QDjV9fAt2IaoI3h7G9Iw_hIiSaAFH"
const supabase=createClient(supabaseUrl,supabaseKey)

async function load(){
const {data}=await supabase.from("mesajlar")
.select("*").order("id",{ascending:false})

const list=document.getElementById("list")
list.innerHTML=""

data.forEach(i=>{
const div=document.createElement("div")
div.className="item"
div.innerHTML=`
${i.kod1}<br>
${i.kod2}<br>
${i.kod3}<br>
<button onclick="sil(${i.id})">Sil</button>
`
list.appendChild(div)
})
}

window.sil=async function(id){
await supabase.from("mesajlar").delete().eq("id",id)
load()
}

load()
</script>

</body>
</html>
